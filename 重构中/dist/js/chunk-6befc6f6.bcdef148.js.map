{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/utils/mergeNoExpand/index.js","webpack:///./src/views/PresetWorks/Contract/ContractEdit/index.js"],"names":["__webpack_require__","flags","f","RegExp","prototype","configurable","get","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","this","concat","undefined","name","isObject","obj","Object","toString","mergeNoExpand","target","_arr","D_calidray_calidray_admin_reconsitution_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_0___default","_i","length","key","hasOwnProperty","sourceValue","__webpack_exports__","extends","ContractAdd","computed","queryId","$route","query","id","created","getDetail","methods","_getDetail","D_calidray_calidray_admin_reconsitution_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","_ref","data","wrap","_context","prev","next","loading","$axios","hospitalId","sent","assetIds","assets","map","asset","assetId","assetWarrntyDate","departmentId","hosId","assetName","assetClass","brandName","labelIds","labels","label","labelId","pics","attachments","formData","finish","stop","apply","arguments"],"mappings":"mGACIA,EAAQ,SAAgB,UAAAC,OAAwBD,EAAQ,QAAcE,EAAAC,OAAAC,UAAA,SAC1EC,cAAA,EACAC,IAAON,EAAQ,+CCFfA,EAAQ,QACR,IAAAO,EAAeP,EAAQ,QACvBQ,EAAaR,EAAQ,QACrBS,EAAkBT,EAAQ,QAC1BU,EAAA,WACAC,EAAA,IAAAD,GAEAE,EAAA,SAAAC,GACEb,EAAQ,OAARA,CAAqBG,OAAAC,UAAAM,EAAAG,GAAA,IAInBb,EAAQ,OAARA,CAAkB,WAAe,MAAkD,QAAlDW,EAAAG,KAAA,CAAwBC,OAAA,IAAAd,MAAA,QAC7DW,EAAA,WACA,IAAAI,EAAAT,EAAAU,MACA,UAAAC,OAAAF,EAAAD,OAAA,IACA,UAAAC,IAAAf,OAAAQ,GAAAO,aAAAb,OAAAK,EAAAM,KAAAE,QAAAG,KAGCR,EAAAS,MAAAV,GACDE,EAAA,WACA,OAAAD,EAAAG,KAAAG,sECtBMI,aAAW,SAAAC,GAAG,MAA4C,oBAAxCC,OAAOnB,UAAUoB,SAASV,KAAKQ,KAEjDG,EAAgB,SAAhBA,EAAiBC,EAAQX,GAC3B,GACIM,EAASK,IAAWL,EAASN,GAE7B,IADF,IAAAY,EACoBC,IAAYF,GAA9BG,EAAA,EAAAA,EAAAF,EAAAG,OAAAD,IAAuC,CAAlC,IAAME,EAAGJ,EAAAE,GACV,GAAId,EAAOiB,eAAeD,GAAM,CAC5B,IAAME,EAAclB,EAAOgB,GAEvBV,EAASY,IAAgBZ,EAASK,EAAOK,IAEzCN,EAAcC,EAAOK,GAAME,GAE3BP,EAAOK,GAAOE,GAM9B,OAAOP,GAGID,qGCrBAS,EAAA,YACXC,QAASC,OACThB,KAAM,gBACNiB,SAAU,CACNC,QADM,WAEF,OAAOrB,KAAKsB,OAAOC,MAAMC,KAGjCC,QARW,WASPzB,KAAK0B,aAETC,QAAS,CACCD,UADD,eAAAE,EAAAtB,OAAAuB,EAAA,KAAAvB,CAAAwB,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEDtC,KAAKuC,SAAU,EAFdH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIwBtC,KAAKwC,OAAOnD,IAAZ,cAAAY,OAA8BD,KAAKyC,WAAnC,KAAAxC,OAAiDD,KAAKqB,UAJ9E,OAAAY,EAAAG,EAAAM,KAIUR,EAJVD,EAIUC,KACHA,IACAA,EAAKS,SAAWT,EAAKU,OAAOC,IACxB,SAAAC,GAAK,MAAK,CACNC,QAASD,EAAMtB,GACfwB,iBAAkBF,EAAME,iBACxBC,aAAcH,EAAMG,aACpBC,MAAOJ,EAAMI,MAGbC,UAAWL,EAAMK,UACjBC,WAAYN,EAAMM,WAClBC,UAAWP,EAAMO,aAGzBnB,EAAKoB,SAAWpB,EAAKqB,OAAOV,IACxB,SAAAW,GAAK,OAAIA,EAAMC,UAEnBvB,EAAKwB,KAAOxB,EAAKyB,YACjBnD,eAAcR,KAAK4D,SAAU1B,IAvBpC,cAAAE,EAAAC,KAAA,EA0BGrC,KAAKuC,SAAU,EA1BlBH,EAAAyB,OAAA,4BAAAzB,EAAA0B,SAAA9B,EAAAhC,KAAA,yBAAA0B,IAAA,OAAAE,EAAAmC,MAAA/D,KAAAgE,WAAA,OAAAtC,EAAA","file":"js/chunk-6befc6f6.bcdef148.js","sourcesContent":["// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","const isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\r\n\r\nconst mergeNoExpand = (target, source) => {\r\n    if (\r\n        isObject(target) && isObject(source)\r\n    ) {\r\n        for (const key of Object.keys(target)) {\r\n            if (source.hasOwnProperty(key)) {\r\n                const sourceValue = source[key];\r\n                if (\r\n                    isObject(sourceValue) && isObject(target[key])\r\n                ) {\r\n                    mergeNoExpand(target[key], sourceValue);\r\n                } else {\r\n                    target[key] = sourceValue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\nexport default mergeNoExpand;","import ContractAdd from '../ContractAdd';\r\nimport {mergeNoExpand} from '@/utils';\r\nexport default {\r\n    extends: ContractAdd,\r\n    name: 'contract-edit',\r\n    computed: {\r\n        queryId() {\r\n            return this.$route.query.id;\r\n        },\r\n    },\r\n    created() {\r\n        this.getDetail();\r\n    },\r\n    methods: {\r\n        async getDetail() {\r\n            this.loading = true;\r\n            try {\r\n                const {data} = await this.$axios.get(`/contracts/${this.hospitalId}/${this.queryId}`);\r\n                if (data) {\r\n                    data.assetIds = data.assets.map(\r\n                        asset => ({\r\n                            assetId: asset.id,\r\n                            assetWarrntyDate: asset.assetWarrntyDate,\r\n                            departmentId: asset.departmentId,\r\n                            hosId: asset.hosId,\r\n\r\n\r\n                            assetName: asset.assetName,\r\n                            assetClass: asset.assetClass,\r\n                            brandName: asset.brandName,\r\n                        })\r\n                    );\r\n                    data.labelIds = data.labels.map(\r\n                        label => label.labelId\r\n                    );\r\n                    data.pics = data.attachments;\r\n                    mergeNoExpand(this.formData, data);\r\n                }\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    }\r\n};"],"sourceRoot":""}