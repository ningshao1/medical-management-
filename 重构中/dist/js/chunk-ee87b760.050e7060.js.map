{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/views/PresetWorks/Supplier/SupplierEdit/index.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/utils/mergeNoExpand/index.js","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/SupplierAdd.vue?14dd","webpack:///./src/components/SelectArea/SelectArea.vue?8c55","webpack:///src/components/SelectArea/SelectArea.vue","webpack:///./src/components/SelectArea/SelectArea.vue?172e","webpack:///./src/components/SelectArea/SelectArea.vue","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/components/SelectSupplierTag.vue?b035","webpack:///src/views/PresetWorks/Supplier/SupplierAdd/components/SelectSupplierTag.vue","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/components/SelectSupplierTag.vue?83ad","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/components/SelectSupplierTag.vue","webpack:///src/views/PresetWorks/Supplier/SupplierAdd/SupplierAdd.vue","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/SupplierAdd.vue?1d2f","webpack:///./src/views/PresetWorks/Supplier/SupplierAdd/SupplierAdd.vue"],"names":["__webpack_require__","flags","f","RegExp","prototype","configurable","get","__webpack_exports__","name","extends","SupplierAdd","data","formData","id","computed","submitConfig","method","url","this","type","queryId","$route","query","created","getDetail","methods","_getDetail","Object","D_calidray_calidray_admin_reconsitution_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","_ref","wrap","_context","prev","next","loading","$axios","concat","sent","labelIds","labels","map","label","labelId","osID","mergeNoExpand","finish","stop","apply","arguments","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","undefined","isObject","obj","toString","target","_arr","D_calidray_calidray_admin_reconsitution_node_modules_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_0___default","_i","length","key","hasOwnProperty","sourceValue","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","ref","attrs","model","rules","label-position","label-width","validate-on-rule-change","title","no-head-icon","gutter","xs","span","prop","placeholder","callback","$$v","$set","_l","index","precision","supplierPhone","supplierArea","slot","_v","scopedSlots","_u","Asterisk","tag","_b","images","businessPhotos","action-image","hospitalId","on","update:images","$event","uploadCommonProps","licensePhotos","to","size","submitLoading","click","submit","goBack","staticRenderFns","SelectAreavue_type_template_id_9c790992_render","options","areaData","active-item-change","activeItemChange","selected","$attrs","SelectAreavue_type_template_id_9c790992_staticRenderFns","PROVINCE_VALUES_NO_CHLIDREN","SelectAreavue_type_script_lang_js_transformAreaData","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","item","includes","children","err","return","SelectAreavue_type_script_lang_js_","props","Array","default","set","$emit","watch","immediate","handler","_handler","asyncToGenerator","i","len","initAreaData","slice","_x","getAreaData","_getAreaData","_callee2","areaIds","_args2","_context2","join","abrupt","findAreaData","result","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","find","area","v","_iterator2","_ret","esm_typeof","_activeItemChange","_callee3","_context3","is_array_default","_x2","_initAreaData","_callee4","_context4","SelectArea_SelectAreavue_type_script_lang_js_","component","componentNormalizer","SelectArea","SelectSupplierTagvue_type_template_id_84560cf8_scoped_true_render","tags","label-key","max","selectedTags","SelectSupplierTagvue_type_template_id_84560cf8_scoped_true_staticRenderFns","SelectSupplierTagvue_type_script_lang_js_","components","SelectTag","getTags","_getTags","post","components_SelectSupplierTagvue_type_script_lang_js_","SelectSupplierTag_component","SelectSupplierTag","SupplierAddvue_type_script_lang_js_","KldCard","FileUpload","Portal","portal_vue","KldInputNumber","kld_input_number","KldFormItem","supplierName","supplierContactName","addressDetail","areaid","cityid","provinceid","licenseDate","$store","state","userInfo","osId","objectSpread","required","message","dynamicRules","isNormalSupplier","utils","Number","String","_this$formData","province","city","filter","_value$concat","fill","_value$concat2","slicedToArray","supplierTypes","limit","maxSize","accept","clearValidate","keys_default","_submit","$refs","form","validate","promise_default","a","all","upload","$message","$router","back","SupplierAdd_SupplierAddvue_type_script_lang_js_","SupplierAdd_component"],"mappings":"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","file":"js/chunk-ee87b760.050e7060.js","sourcesContent":["// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","import SupplierAdd from '../SupplierAdd';\r\nimport {mergeNoExpand} from '@/utils';\r\nexport default {\r\n    name: 'supplier-edit',\r\n    extends: SupplierAdd,\r\n    data() {\r\n        return {\r\n            formData: {\r\n                id: null\r\n            },\r\n        };\r\n    },\r\n    computed: {\r\n        submitConfig() {\r\n            return {\r\n                method: 'put',\r\n                url: ['/supplier', '/measurement/putMaintain', '/measurement/putMeasurement'][this.formData.type],\r\n                data: this.formData\r\n            }\r\n        },\r\n        queryId() {\r\n            return this.$route.query.id;\r\n        }\r\n    },\r\n    created() {\r\n        this.getDetail();\r\n    },\r\n    methods: {\r\n        async getDetail() {\r\n            this.loading = true;\r\n            try {\r\n                const {data} = await this.$axios.get(`/supplier/${this.queryId}`);\r\n                data.labelIds = data.labels.map(\r\n                    label => label.labelId\r\n                );\r\n                //如果没有osID剔除字段不进行合并\r\n                if (!data.osID) {\r\n                    delete data.osID;\r\n                }\r\n                mergeNoExpand(this.formData, data);\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","const isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\r\n\r\nconst mergeNoExpand = (target, source) => {\r\n    if (\r\n        isObject(target) && isObject(source)\r\n    ) {\r\n        for (const key of Object.keys(target)) {\r\n            if (source.hasOwnProperty(key)) {\r\n                const sourceValue = source[key];\r\n                if (\r\n                    isObject(sourceValue) && isObject(target[key])\r\n                ) {\r\n                    mergeNoExpand(target[key], sourceValue);\r\n                } else {\r\n                    target[key] = sourceValue;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\nexport default mergeNoExpand;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"load\",rawName:\"v-load\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"supplier-add\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules,\"label-position\":\"top\",\"label-width\":\"100px\",\"validate-on-rule-change\":false}},[_c('kld-card',{attrs:{\"title\":\"基础信息\",\"no-head-icon\":\"\"}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":\"供应商分类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择供应商分类\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.supplierTypes),function(label,index){return _c('el-option',{key:index,attrs:{\"label\":label,\"value\":index}})}),1)],1)],1),_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"supplierName\",\"label\":\"供应商名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入供应商名称\"},model:{value:(_vm.formData.supplierName),callback:function ($$v) {_vm.$set(_vm.formData, \"supplierName\", $$v)},expression:\"formData.supplierName\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"supplierContactName\",\"label\":\"联系人\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入联系人\"},model:{value:(_vm.formData.supplierContactName),callback:function ($$v) {_vm.$set(_vm.formData, \"supplierContactName\", $$v)},expression:\"formData.supplierContactName\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"supplierPhone\",\"label\":\"联系方式\"}},[_c('kld-input-number',{attrs:{\"precision\":0,\"placeholder\":\"请输入联系方式\"},model:{value:(_vm.supplierPhone),callback:function ($$v) {_vm.supplierPhone=$$v},expression:\"supplierPhone\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"provinceid\",\"label\":\"供应商地址\"}},[_c('select-area',{attrs:{\"placeholder\":\"请选择地区\"},model:{value:(_vm.supplierArea),callback:function ($$v) {_vm.supplierArea=$$v},expression:\"supplierArea\"}})],1)],1),_c('el-col',{attrs:{\"xs\":12,\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"addressDetail\"}},[_c('template',{slot:\"label\"},[_vm._v(\" \")]),_c('el-input',{attrs:{\"placeholder\":\"请输入详细地址\"},model:{value:(_vm.formData.addressDetail),callback:function ($$v) {_vm.$set(_vm.formData, \"addressDetail\", $$v)},expression:\"formData.addressDetail\"}})],2)],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"prop\":\"labelIds\"}},[_c('template',{slot:\"label\"},[_vm._v(\"\\n                            供应商标签\\n                            \"),_c('span',{staticClass:\"text-secondary\"},[_vm._v(\"（每个供应商最多添加5个标签）\")])]),_c('select-supplier-tag',{model:{value:(_vm.formData.labelIds),callback:function ($$v) {_vm.$set(_vm.formData, \"labelIds\", $$v)},expression:\"formData.labelIds\"}})],2)],1)],1)],1),_c('kld-card',{attrs:{\"title\":\"相关资质信息\",\"no-head-icon\":\"\"}},[_c('kld-form-item',{attrs:{\"prop\":\"businessPhotos\",\"label-width\":\"100%\"},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar Asterisk = ref.Asterisk;\nreturn [_vm._v(\"\\n                    营业执照\\n                    \"),_c(Asterisk,{tag:\"component\"}),_c('span',{staticClass:\"text-secondary\"},[_vm._v(\"（支持上传最多5张图片或单个图片最大3M）\")])]}}])},[_c('file-upload',_vm._b({ref:\"business-upload\",attrs:{\"images\":_vm.formData.businessPhotos,\"action-image\":(\"/photo/\" + _vm.hospitalId + \"/3/upload\")},on:{\"update:images\":function($event){_vm.$set(_vm.formData, \"businessPhotos\", $event)}}},'file-upload',_vm.uploadCommonProps,false))],1),_c('kld-form-item',{attrs:{\"prop\":\"licensePhotos\",\"label-width\":\"100%\"},scopedSlots:_vm._u([{key:\"label\",fn:function(ref){\nvar Asterisk = ref.Asterisk;\nreturn [_vm._v(\"\\n                    医疗器械经营许可证\\n                    \"),_c(Asterisk,{tag:\"component\"}),_c('span',{staticClass:\"text-secondary\"},[_vm._v(\"（支持上传最多5张图片或单个图片最大3M）\")])]}}])},[_c('file-upload',_vm._b({ref:\"license-upload\",attrs:{\"images\":_vm.formData.licensePhotos,\"action-image\":(\"/photo/\" + _vm.hospitalId + \"/4/upload\")},on:{\"update:images\":function($event){_vm.$set(_vm.formData, \"licensePhotos\", $event)}}},'file-upload',_vm.uploadCommonProps,false))],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"prop\":\"licenseDate\",\"label\":\"医疗器械经营许可证到期时间\"}},[_c('el-date-picker',{attrs:{\"placeholder\":\"请选择到期时间\"},model:{value:(_vm.formData.licenseDate),callback:function ($$v) {_vm.$set(_vm.formData, \"licenseDate\", $$v)},expression:\"formData.licenseDate\"}})],1)],1)],1)],1)],1),_c('Portal',{attrs:{\"to\":\"action\"}},[_c('el-button',{attrs:{\"size\":\"large\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]),_c('el-button',{attrs:{\"type\":\"default\",\"size\":\"large\"},on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-cascader',_vm._b({staticClass:\"select-area\",attrs:{\"options\":_vm.areaData},on:{\"active-item-change\":_vm.activeItemChange},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}},'el-cascader',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-cascader\r\n            class=\"select-area\"\r\n            v-bind=\"$attrs\"\r\n            v-model=\"selected\"\r\n            :options=\"areaData\"\r\n            @active-item-change=\"activeItemChange\"\r\n    ></el-cascader>\r\n</template>\r\n\r\n<script>\r\n    const PROVINCE_VALUES_NO_CHLIDREN = [\r\n        710000,\r\n        810000,\r\n        820000\r\n    ];\r\n\r\n    const transformAreaData = data => {\r\n            for (const item of data) {\r\n                if (\r\n                    !(PROVINCE_VALUES_NO_CHLIDREN.includes(item.value) || item.type === 3)\r\n                ) {\r\n                    item.children = [];\r\n                }\r\n            }\r\n            return data;\r\n        };\r\n\r\n    export default {\r\n        name: \"select-area\",\r\n        props: {\r\n            value: {\r\n                type: Array,\r\n                default() {\r\n                    return [];\r\n                }\r\n            }\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                areaData: [],\r\n            };\r\n        },\r\n\r\n        computed: {\r\n            selected: {\r\n                get() {\r\n                    return this.value;\r\n                },\r\n                set(value) {\r\n                    this.$emit('input', value);\r\n                }\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            selected: {\r\n                immediate: true,\r\n                async handler(selected) {\r\n                    if (this.areaData.length === 0) {\r\n                        await this.initAreaData();\r\n                    }\r\n                    for (let i = 0, len = selected.length; i < len; i++) {\r\n                        await this.activeItemChange(selected.slice(0, i + 1));\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            async getAreaData(areaIds = []) {\r\n                const {data} = await this.$axios.get(`/address/provinceList/${areaIds.join('/')}`);\r\n                return transformAreaData(data);\r\n            },\r\n            findAreaData(areaIds = []) {\r\n                let {areaData} = this;\r\n\r\n                let result = null;\r\n\r\n                for (const id of areaIds) {\r\n                    const data = areaData.find(\r\n                        area => area.value === id\r\n                    );\r\n                    if (data) {\r\n                        areaData = data.children;\r\n                        result = data;\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            async activeItemChange(areaIds) {\r\n                const data = this.findAreaData(areaIds);\r\n                if (data && Array.isArray(data.children) && data.children.length === 0) {\r\n                    data.children = await this.getAreaData(areaIds);\r\n                }\r\n            },\r\n            async initAreaData() {\r\n                this.areaData = await this.getAreaData();\r\n            }\r\n        }\r\n    }\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectArea.vue?vue&type=template&id=9c790992&\"\nimport script from \"./SelectArea.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectArea.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select-tag',{staticClass:\"select-supplier-tag\",attrs:{\"data\":_vm.tags,\"label-key\":\"labelName\",\"max\":5},model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <select-tag\r\n            v-model=\"selectedTags\"\r\n            class=\"select-supplier-tag\"\r\n            :data=\"tags\"\r\n            label-key=\"labelName\"\r\n            :max=\"5\"\r\n    ></select-tag>\r\n</template>\r\n\r\n<script>\r\n    import {SelectTag} from '@/components';\r\n    export default {\r\n        name: \"select-supplier-tag\",\r\n        components: {\r\n            SelectTag\r\n        },\r\n        props: {\r\n            value: {},\r\n        },\r\n        data() {\r\n            return {\r\n                tags: []\r\n            };\r\n        },\r\n        computed: {\r\n            selectedTags: {\r\n                get() {\r\n                    return this.value;\r\n                },\r\n                set(value) {\r\n                    this.$emit('input', value);\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.getTags();\r\n        },\r\n        methods: {\r\n            async getTags() {\r\n                const {data} = await this.$axios.post('/labels/list/4');\r\n                this.tags = data;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .select-supplier-tag {\r\n\r\n    }\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSupplierTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectSupplierTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SelectSupplierTag.vue?vue&type=template&id=84560cf8&scoped=true&\"\nimport script from \"./SelectSupplierTag.vue?vue&type=script&lang=js&\"\nexport * from \"./SelectSupplierTag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SelectSupplierTag.vue?vue&type=style&index=0&id=84560cf8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"84560cf8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"supplier-add\" v-load=\"loading\">\r\n        <el-form :model=\"formData\" :rules=\"rules\" label-position=\"top\" label-width=\"100px\" :validate-on-rule-change=\"false\" ref=\"form\">\r\n            <kld-card\r\n                    title=\"基础信息\"\r\n                    no-head-icon\r\n            >\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"type\" label=\"供应商分类\">\r\n                            <el-select v-model=\"formData.type\" placeholder=\"请选择供应商分类\">\r\n                                <el-option\r\n                                        v-for=\"(label, index) in supplierTypes\"\r\n                                        :label=\"label\"\r\n                                        :value=\"index\"\r\n                                        :key=\"index\"\r\n                                ></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"supplierName\" label=\"供应商名称\">\r\n                            <el-input v-model=\"formData.supplierName\" placeholder=\"请输入供应商名称\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"supplierContactName\" label=\"联系人\">\r\n                            <el-input v-model=\"formData.supplierContactName\" placeholder=\"请输入联系人\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"supplierPhone\" label=\"联系方式\">\r\n                            <kld-input-number v-model=\"supplierPhone\" :precision=\"0\" placeholder=\"请输入联系方式\"></kld-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"provinceid\" label=\"供应商地址\">\r\n                            <select-area v-model=\"supplierArea\" placeholder=\"请选择地区\"></select-area>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :xs=\"12\" :span=\"8\">\r\n                        <el-form-item prop=\"addressDetail\">\r\n                            <template slot=\"label\">&nbsp;</template>\r\n                            <el-input v-model=\"formData.addressDetail\" placeholder=\"请输入详细地址\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"24\">\r\n                        <el-form-item prop=\"labelIds\">\r\n                            <template slot=\"label\">\r\n                                供应商标签\r\n                                <span class=\"text-secondary\">（每个供应商最多添加5个标签）</span>\r\n                            </template>\r\n                            <select-supplier-tag v-model=\"formData.labelIds\"></select-supplier-tag>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n            </kld-card>\r\n            <kld-card\r\n                    title=\"相关资质信息\"\r\n                    no-head-icon\r\n            >\r\n                <kld-form-item prop=\"businessPhotos\" label-width=\"100%\">\r\n                    <template slot=\"label\" slot-scope=\"{Asterisk}\">\r\n                        营业执照\r\n                        <component :is=\"Asterisk\"></component>\r\n                        <span class=\"text-secondary\">（支持上传最多5张图片或单个图片最大3M）</span>\r\n                    </template>\r\n                    <file-upload\r\n                            ref=\"business-upload\"\r\n                            :images.sync=\"formData.businessPhotos\"\r\n                            :action-image=\"`/photo/${hospitalId}/3/upload`\"\r\n                            v-bind=\"uploadCommonProps\"\r\n                    ></file-upload>\r\n                </kld-form-item>\r\n                <kld-form-item prop=\"licensePhotos\" label-width=\"100%\">\r\n                    <template slot=\"label\" slot-scope=\"{Asterisk}\">\r\n                        医疗器械经营许可证\r\n                        <component :is=\"Asterisk\"></component>\r\n                        <span class=\"text-secondary\">（支持上传最多5张图片或单个图片最大3M）</span>\r\n                    </template>\r\n                    <file-upload\r\n                            ref=\"license-upload\"\r\n                            :images.sync=\"formData.licensePhotos\"\r\n                            :action-image=\"`/photo/${hospitalId}/4/upload`\"\r\n                            v-bind=\"uploadCommonProps\"\r\n                    ></file-upload>\r\n                </kld-form-item>\r\n                <el-row>\r\n                    <el-col :span=\"8\">\r\n                        <el-form-item prop=\"licenseDate\" label=\"医疗器械经营许可证到期时间\">\r\n                            <el-date-picker v-model=\"formData.licenseDate\" placeholder=\"请选择到期时间\"></el-date-picker>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n            </kld-card>\r\n        </el-form>\r\n        <Portal to=\"action\">\r\n            <el-button size=\"large\" @click=\"submit\" :loading=\"submitLoading\">提交</el-button>\r\n            <el-button type=\"default\" size=\"large\" @click=\"goBack\">返回</el-button>\r\n        </Portal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {KldCard, FileUpload, Portal, KldInputNumber, SelectArea, KldFormItem} from '@/components';\r\n    import {isValid} from '@/utils';\r\n    import SelectSupplierTag from './components/SelectSupplierTag';\r\n    export default {\r\n        name: \"supplier-add\",\r\n        components: {\r\n            KldCard,\r\n            SelectSupplierTag,\r\n            FileUpload,\r\n            Portal,\r\n            KldInputNumber,\r\n            SelectArea,\r\n            KldFormItem,\r\n        },\r\n        data() {\r\n            return {\r\n                formData: {\r\n                    type: 0,\r\n                    supplierName: null,\r\n                    supplierContactName: null,\r\n                    supplierPhone: null,\r\n                    addressDetail: null,\r\n                    areaid: null,\r\n                    cityid: null,\r\n                    provinceid: null,\r\n                    labelIds: [],\r\n                    businessPhotos: [],\r\n                    licensePhotos: [],\r\n                    licenseDate: null,\r\n                    osID: this.$store.state.userInfo.osId,\r\n                },\r\n                submitLoading: false,\r\n                loading: false,\r\n            };\r\n        },\r\n        computed: {\r\n            rules() {\r\n                return {\r\n                    type: {required: true, message: '供应商分类为必选'},\r\n                    supplierName: {required: true, message: '供应商名称为必填'},\r\n                    supplierContactName: {required: true, message: '联系人为必填'},\r\n                    supplierPhone: {required: true, message: '联系方式为必填'},\r\n                    ...this.dynamicRules\r\n                };\r\n            },\r\n\r\n            dynamicRules() {\r\n                const isNormalSupplier = this.formData.type === 0;\r\n                return {\r\n                    businessPhotos: {required: isNormalSupplier, message: '必须上传营业执照'},\r\n                    licensePhotos: {required: isNormalSupplier, message: '必须上传医疗器械经营许可证'},\r\n                    licenseDate: {required: isNormalSupplier, message: '许可证到期时间为必选'},\r\n                };\r\n            },\r\n\r\n            supplierPhone: {\r\n                get() {\r\n                    const value = this.formData.supplierPhone;\r\n                    if (isValid(value)) {\r\n                        return Number(this.formData.supplierPhone);\r\n                    }\r\n                },\r\n                set(value) {\r\n                    this.formData.supplierPhone = isValid(value) ? String(value) : null;\r\n                }\r\n            },\r\n            supplierArea: {\r\n                get() {\r\n                    const {provinceid: province, cityid: city, areaid: area} = this.formData;\r\n                    return [province, city, area].filter(isValid);\r\n                },\r\n                set(value) {\r\n                    const {formData} = this;\r\n                    [formData.provinceid, formData.cityid, formData.areaid] = value.concat(new Array(3 - value.length).fill(null));\r\n                }\r\n            },\r\n\r\n\r\n\r\n            supplierTypes() {\r\n                return ['设备供应商', '保养供应商', '计量机构'];\r\n            },\r\n\r\n            // isAdd() {\r\n            //     return this.$route.name === 'supplier-add';\r\n            // },\r\n            // isEdit() {\r\n            //     return this.$route.name === 'supplier-edit';\r\n            // },\r\n\r\n\r\n            uploadCommonProps() {\r\n                return {\r\n                    limit: 5,\r\n                    maxSize: 1024 * 1024 * 3,\r\n                    accept: ['.jpeg', '.jpg', '.png', '.gif'],\r\n                }\r\n            },\r\n            hospitalId() {\r\n                return this.$store.state.userInfo.osId;\r\n            },\r\n            submitConfig() {\r\n                return {\r\n                    method: 'post',\r\n                    url: ['/supplier', '/measurement/savaMaintain', '/measurement/saveMeasurement'][this.formData.type],\r\n                    data: this.formData\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            dynamicRules(rules) {\r\n                this.clearValidate(Object.keys(rules));\r\n            }\r\n        },\r\n        methods: {\r\n            async submit() {\r\n                await this.$refs.form.validate();\r\n                await Promise.all([\r\n                    this.$refs['business-upload'].upload(),\r\n                    this.$refs['license-upload'].upload(),\r\n                ]);\r\n                this.submitLoading = true;\r\n                try{\r\n                    await this.$axios(this.submitConfig);\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '提交成功'\r\n                    });\r\n                    this.goBack();\r\n                } finally {\r\n                    this.submitLoading = true;\r\n                }\r\n            },\r\n            goBack() {\r\n                this.$router.back();\r\n            },\r\n            clearValidate(props) {\r\n                const {form} = this.$refs;\r\n                if (form) {\r\n                    form.clearValidate(props);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .supplier-add {\r\n\r\n    }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplierAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupplierAdd.vue?vue&type=template&id=6c62230b&scoped=true&\"\nimport script from \"./SupplierAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./SupplierAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SupplierAdd.vue?vue&type=style&index=0&id=6c62230b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c62230b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}