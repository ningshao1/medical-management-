(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32768784","chunk-6befc6f6"],{3846:function(t,a,e){e("9e1e")&&"g"!=/./g.flags&&e("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:e("0bfb")})},4325:function(t,a,e){"use strict";var s,r,l=e("2638"),n=e.n(l),o=e("f00f"),c=e("ed08"),i={name:"transform-empty",functional:!0,props:{placeholder:{type:String,default:"--"},tag:{type:String,default:"span"}},render:function(t,a){var e=a.slots,s=a.props,r=a.data,l=e(),i=l.default,u=s.placeholder,d=s.tag,p=Object(o["c"])(i).trim();return Object(c["c"])(p)?i:t(d,n()([{},r,{class:"text-secondary"}]),[u])}},u=i,d=e("2877"),p=Object(d["a"])(u,s,r,!1,null,null,null);a["a"]=p.exports},"6b54":function(t,a,e){"use strict";e("3846");var s=e("cb7c"),r=e("0bfb"),l=e("9e1e"),n="toString",o=/./[n],c=function(t){e("2aba")(RegExp.prototype,n,t,!0)};e("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!l&&t instanceof RegExp?r.call(t):void 0)}):o.name!=n&&c(function(){return o.call(this)})},"6ba4":function(t,a,e){"use strict";var s=e("a4bb"),r=e.n(s),l=(e("6b54"),function(t){return"[object Object]"===Object.prototype.toString.call(t)}),n=function t(a,e){if(l(a)&&l(e))for(var s=r()(a),n=0;n<s.length;n++){var o=s[n];if(e.hasOwnProperty(o)){var c=e[o];l(c)&&l(a[o])?t(a[o],c):a[o]=c}}return a};a["a"]=n},"9daa":function(t,a,e){"use strict";e.r(a);var s,r,l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"load",rawName:"v-load",value:t.loading,expression:"loading"}],staticClass:"contract-detail"},[e("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[e("kld-card",{attrs:{"no-head-icon":"",title:"合同基础信息"}},[e("el-form-item",{attrs:{slot:"head-icon",label:"合同状态："},slot:"head-icon"},[e("p",{staticClass:"font-weight-bold"},[0===t.formData.contractStatus?[t._v("正常")]:e("span",{staticClass:"text-disabled"},[t._v("废弃")])],2)]),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"合同编号："}},[t._v(t._s(t.formData.contractCode))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"合同名称："}},[t._v(t._s(t.formData.contractName))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"签订日期："}},[t._v(t._s(t.formData.signDate))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"合同类型："}},[t._v(t._s(t.formData.contractType))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"供应商名称："}},[t._v(t._s(t.formData.supplierName))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"联系人："}},[t._v(t._s(t.formData.supplierContactor))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"联系方式："}},[t._v(t._s(t.formData.supplierContact))])],1),e("el-col",{attrs:{span:8}},[e("el-form-item",{attrs:{label:"采购金额："}},[t._v(t._s(t.formData.purchaseAmount))])],1),e("el-col",{attrs:{span:24}},[e("el-form-item",{attrs:{label:"合同标签："}},[e("transform-empty",t._l(t.formData.labels,function(a,s){return e("kld-tag",{key:s},[t._v(t._s(a.labelName))])}),1)],1)],1)],1)],1),e("kld-card",{staticClass:"mt-10",attrs:{"no-head-icon":"",title:"分期付款项"}},[e("el-form-item",{attrs:{label:"分期数："}},[t._v(t._s(t.formData.periodsNum))]),e("el-table",{staticClass:"mt-9",attrs:{data:t.formData.paymentInstalments}},[e("el-table-column",{attrs:{type:"index",label:"序号"}}),e("el-table-column",{attrs:{label:"期数"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.$index;return[t._v("第"+t._s(e+1)+"期")]}}])}),e("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.row.paymentStatus;return[1===s?e("span",{staticClass:"text-orange"},[t._v("已支付")]):[t._v("未支付")]]}}])}),e("el-table-column",{attrs:{label:"付款日期",prop:"paymentDate"}}),e("el-table-column",{attrs:{label:"付款金额",prop:"paymentAmount"}})],1)],1),e("kld-card",{staticClass:"mt-10",attrs:{title:"合同所含设备","no-head-icon":""}},[e("el-table",{attrs:{data:t.formData.assetIds}},[e("el-table-column",{attrs:{label:"设备名称",prop:"assetName"}}),e("el-table-column",{attrs:{label:"设备品牌",prop:"brandName"}}),e("el-table-column",{attrs:{label:"设备型号",prop:"assetClass"}}),e("el-table-column",{attrs:{label:"过保日期",prop:"assetWarrntyDate"}})],1)],1),e("kld-card",{staticClass:"mt-10",attrs:{title:"合同所含备件","no-head-icon":""}},[e("el-table",{attrs:{data:t.formData.spareParts}},[e("el-table-column",{attrs:{label:"备件名称",prop:"sparePartName"}}),e("el-table-column",{attrs:{label:"备件型号",prop:"sparePartModel"}}),e("el-table-column",{attrs:{label:"所属设备",prop:"assetName"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.row;return[t._v(t._s(t.assetsMap[e.assetId]))]}}])}),e("el-table-column",{attrs:{label:"备件数量",prop:"sparePartNum"}})],1)],1),e("kld-card",{staticClass:"mt-10",attrs:{title:"合同图片","no-head-icon":""}},[e("file-upload",{attrs:{images:t.formData.pics,detail:""}})],1)],1),e("Portal",{attrs:{to:"action"}},[e("div",{staticClass:"flex justify-content-end full-width "},[t.loading||0!==t.formData.contractStatus?t._e():e("router-link",{staticClass:"mr-10",attrs:{to:t.editRoute}},[e("el-button",{attrs:{size:"large"}},[t._v("编辑")])],1),e("el-button",{attrs:{type:"default",size:"large"},on:{click:t.goBack}},[t._v("返回")])],1)])],1)},n=[],o=e("f2e0"),c=e("fc91"),i=e("2638"),u=e.n(i),d={name:"page-tips",functional:!0,render:function(t,a){var e=a.data,s=a.slots,r=s(),l=r.default,n=r.title;return t("div",u()([{class:"page-tips"},e]),[n?t("h2",{class:"page-tips-title text-primary fz-16 font-weight-normal border-bottom-1"},[n]):null,"\n                ",t("div",{class:"page-tips-content text-regular pt-10 fz-14"},[l])])}},p=d,f=e("2877"),m=Object(f["a"])(p,s,r,!1,null,"81129654",null),b=m.exports,g=e("4325"),v={extends:o["default"],name:"contract-detail",components:{KldTag:c["a"],PageTips:b,TransformEmpty:g["a"]},data:function(){return{formData:{labels:[]}}},computed:{assetsMap:function(){return this.formData.assetIds.reduce(function(t,a){return t[a.assetId]=a.assetName,t},{})},editRoute:function(){return{name:"contract-edit",query:{id:this.queryId}}}}},h=v,_=Object(f["a"])(h,l,n,!1,null,"49c3f42a",null),y=_.exports;e.d(a,"default",function(){return y})},f2e0:function(t,a,e){"use strict";e.r(a);e("96cf");var s=e("3b8d"),r=e("d6d1"),l=e("6ba4");a["default"]={extends:r["a"],name:"contract-edit",computed:{queryId:function(){return this.$route.query.id}},created:function(){this.getDetail()},methods:{getDetail:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.$axios.get("/contracts/".concat(this.hospitalId,"/").concat(this.queryId));case 4:a=t.sent,e=a.data,e&&(e.assetIds=e.assets.map(function(t){return{assetId:t.id,assetWarrntyDate:t.assetWarrntyDate,departmentId:t.departmentId,hosId:t.hosId,assetName:t.assetName,assetClass:t.assetClass,brandName:t.brandName}}),e.labelIds=e.labels.map(function(t){return t.labelId}),e.pics=e.attachments,Object(l["a"])(this.formData,e));case 7:return t.prev=7,this.loading=!1,t.finish(7);case 10:case"end":return t.stop()}},t,this,[[1,,7,10]])}));function a(){return t.apply(this,arguments)}return a}()}}}}]);
//# sourceMappingURL=chunk-32768784.c577a2ac.js.map