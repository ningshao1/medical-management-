(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216043"],{c154:function(e,t,a){"use strict";a.r(t);var s,r,n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"install-detail"},[a("div",{staticClass:"detail-form"},[a("el-form",{ref:"form",attrs:{model:e.detailData,rules:e.formRule}},[a("form-structure",[a("div",{attrs:{slot:"form-left"},slot:"form-left"},[a("install-basic-info",{ref:"basic-info",staticClass:"mb-20",attrs:{basicData:e.detailData,detail:e.detail},on:{"update:basicData":function(t){e.detailData=t}}}),a("asset-bind-contract",{staticClass:"mb-20",attrs:{disabled:e.detail,"asset-items":e.detailData},on:{"update:assetItems":function(t){e.detailData=t}}}),a("depreciation-info",{staticClass:"mb-20",attrs:{"asset-items":e.detailData,disabled:e.detail},on:{"update:assetItems":function(t){e.detailData=t}}}),e.measureShow?a("mesurement-info",{attrs:{"asset-items":e.detailData,disabled:e.detail},on:{"update:assetItems":function(t){e.detailData=t}}}):e._e()],1),a("div",{attrs:{slot:"form-right"},slot:"form-right"},[a("asset-info",{attrs:{data:e.detailData,disabled:e.detail}})],1)])],1)],1)])},l=[],o=a("cebc"),c=(a("96cf"),a("3b8d")),d=a("bd86"),u=(a("7f7f"),a("9cef")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-structure"},[a("div",{staticClass:"form-left"},[e._t("form-left")],2),a("div",{staticClass:"form-right",style:e.styles},[e._t("form-right")],2)])},m=[],f={name:"form-structure",props:{styles:{type:Object}},data:function(){return{}},components:{},created:function(){},methods:{}},h=f,b=a("2877"),v=Object(b["a"])(h,p,m,!1,null,"4540aac4",null),g=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-info"},[a("kld-card",{attrs:{title:"基础信息"}},[a("div",{attrs:{slot:"head-icon"},slot:"head-icon"}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"设备名称",prop:"assetName"}},[a("div",{staticClass:"asset-name"},[a("div",{staticClass:"exist-asset"},[e._v("\n                            资产已入库？ "),a("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.show=!0}}},[e._v("点击选择已有设备")])]),a("float-table",{attrs:{placeholder:"请输入设备名称","remote-method":e.getAssetData,columns:e.assetName.columns,"value-key":e.assetName.valueKey,disabled:e.detail},on:{select:e.getPreInfo},model:{value:e.data.assetName,callback:function(t){e.$set(e.data,"assetName",t)},expression:"data.assetName"}})],1)])],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"型号",prop:"assetClass"}},[a("float-table",{attrs:{placeholder:"请填写设备型号",columns:e.assetClass.columns,"remote-method":e.getClassData,"value-key":e.assetClass.valueKey,disabled:e.detail},on:{select:e.getPreInfo},model:{value:e.data.assetClass,callback:function(t){e.$set(e.data,"assetClass",t)},expression:"data.assetClass"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"序列号",prop:"assetSN"}},[a("asset-sn",{attrs:{placeholder:"请填写设备序列号",disabled:e.detail},model:{value:e.data.assetSN,callback:function(t){e.$set(e.data,"assetSN",t)},expression:"data.assetSN"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"设备注册证号",prop:"registration"}},[a("el-input",{attrs:{placeholder:"请输入设备注册证号",disabled:e.detail},model:{value:e.data.registration,callback:function(t){e.$set(e.data,"registration",t)},expression:"data.registration"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:e.spanLong}},[a("el-form-item",{attrs:{label:"国家分类",prop:"assertTypeId"}},[a("tree-select",{attrs:{data:e.country.list,"leaf-only":"","code-prefix":"",placeholder:"请选择国家分类",disabled:e.detail},on:{"current-change":e.getCountryNode},model:{value:e.data.assertTypeId,callback:function(t){e.$set(e.data,"assertTypeId",t)},expression:"data.assertTypeId"}})],1)],1),12===e.spanLong?[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"呼吸机分类",prop:"breatheType"}},[a("div",[a("el-radio-group",{staticClass:"full-width inline-block",model:{value:e.data.breatheType,callback:function(t){e.$set(e.data,"breatheType",t)},expression:"data.breatheType"}},[a("el-radio",{attrs:{label:2,disabled:e.detail}},[e._v("无创")]),a("el-radio",{attrs:{label:3,disabled:e.detail}},[e._v("有创")]),a("el-radio",{attrs:{label:4,disabled:e.detail}},[e._v("混合型")])],1)],1)])],1)]:e._e()],2)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"品牌",prop:"assetBrandId"}},[a("float-table",{ref:"asset-brand",attrs:{"selected-item":e.selectedItem,placeholder:"请选择品牌","remote-no-keyword":"",mode:"select",columns:e.assetBrand.columns,"remote-method":e.getBrandData,"value-key":e.assetBrand.valueKey,"node-key":e.assetBrand.nodeKey,disabled:e.detail},on:{"update:selectedItem":function(t){e.selectedItem=t}},model:{value:e.assetBrand.brandName,callback:function(t){e.$set(e.assetBrand,"brandName",t)},expression:"assetBrand.brandName"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"安装时间",prop:"collarTime"}},[a("el-date-picker",{attrs:{editable:!1,clearable:"","value-format":"yyyy-MM-dd",placeholder:"请选择安装时间",disabled:e.detail},model:{value:e.data.collarTime,callback:function(t){e.$set(e.data,"collarTime",t)},expression:"data.collarTime"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"所属科室",prop:"departmentId"}},[a("tree-select",{ref:"osTree",attrs:{data:e.departmentTree,placeholder:"请选择所属科室",props:{label:"osName"},"first-expand":"","ban-select":[e.osId],disabled:e.detail},on:{"current-change":e.departmentChange},model:{value:e.data.departmentId,callback:function(t){e.$set(e.data,"departmentId",t)},expression:"data.departmentId"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"安装地点",prop:"installSection"}},[a("tree-select",{attrs:{data:e.departmentTree,placeholder:"请选择安装地点",props:{label:"osName"},"first-expand":"","ban-select":[e.osId],disabled:e.detail},model:{value:e.data.installSection,callback:function(t){e.$set(e.data,"installSection",t)},expression:"data.installSection"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"管理人"}},[a("el-input",{attrs:{placeholder:"选择所属科室自动填充",disabled:""},model:{value:e.data.userName,callback:function(t){e.$set(e.data,"userName",t)},expression:"data.userName"}})],1)],1),a("el-col",{attrs:{span:12,lg:6}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{placeholder:"选择所属科室自动填充",disabled:""},model:{value:e.data.responsibleName,callback:function(t){e.$set(e.data,"responsibleName",t)},expression:"data.responsibleName"}})],1)],1)],1)],1),a("exist-dialog",{attrs:{visible:e.show},on:{"update:visible":function(t){e.show=t},"row-click":e.rowClick}})],1)},I=[],w=a("e341"),k=a("4660"),x=a("3e18"),T={components:Object(d["a"])({},u["a"].name,u["a"]),computed:{userInfo:function(){return this.$store.state.userInfo},osId:function(){return this.userInfo.osId},assetId:function(){return this.$route.params.id}}},D=function(){return a.e("chunk-157b941c").then(a.bind(null,"3245"))},$={mixins:[T],name:"installBasicInfo",props:{basicData:{type:Object,default:function(){return{}}},detail:{type:Boolean}},data:function(){return{show:!1,spanLong:24,assetName:{columns:[{key:"assetName",title:"名称"},{key:"assetClass",title:"型号"},{key:"brandName",title:"品牌"}],valueKey:"assetName"},assetClass:{columns:[{key:"assetClass",title:"型号"},{key:"assetName",title:"名称"},{key:"brandName",title:"品牌"}],valueKey:"assetClass"},assetBrand:{brandName:"",columns:[{key:"brandName",title:"品牌名称"},{key:"manufactor",title:"厂商"},{key:"modeCountry",title:"国别"}],valueKey:"brandName",nodeKey:"brandId"},country:{list:[],isLive:!1},departmentTree:[]}},components:(s={},Object(d["a"])(s,k["a"].name,k["a"]),Object(d["a"])(s,x["a"].name,x["a"]),Object(d["a"])(s,w["a"].name,w["a"]),Object(d["a"])(s,"existDialog",D),s),computed:{data:{get:function(){return this.basicData},set:function(e){this.$emit("update:basicData",e)}},selectedItem:{get:function(){var e,t=this.assetBrand,a=t.valueKey,s=t.nodeKey;return e={},Object(d["a"])(e,a,this.data.brandName),Object(d["a"])(e,s,this.data.assetBrandId),e},set:function(e){var t=this.assetBrand,a=t.valueKey,s=t.nodeKey,r=e[a],n=e[s];this.data.assetBrandId=n,this.data.brandName=r}}},created:function(){this.loadCountryType(),this.loadDepartmentTree()},methods:{getAssetData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,s){var r,n,i,l,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.pageSize,n=a.currentPage,a.total,i={limit:r,offset:(n-1)*r,params:{name:t}},l=null,e.prev=3,e.next=6,this.$axios.post("assets/getOtherByAssetName",i);case 6:o=e.sent,c=o.data,l=c;case 9:return e.prev=9,s(l),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[3,,9,12]])}));function t(t,a,s){return e.apply(this,arguments)}return t}(),getPreInfo:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,s,r,n,i,l,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.assetName,s=t.assetClass,r=t.assetId,n=t.id,i=r||n,this.data.assetName=a,this.data.assetClass=s,e.next=6,this.$axios.post("/assets/getOtherByAssetId?id=".concat(i));case 6:l=e.sent,o=l.data,this.preInfoFormat(o);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),preInfoFormat:function(e){var t=this;e=e||{};var a=e,s=a.brandName,r=a.assetBrandId,n=a.depreciationAgeLimit,i=a.registration,l=a.assertTypeId,o=(a.hosId,a.breathe_type);if(s&&r){var c,u=this.assetBrand,p=u.valueKey,m=u.nodeKey;this.selectedItem=(c={},Object(d["a"])(c,p,s),Object(d["a"])(c,m,r),c)}n&&(this.data.depreciationAgeLimit=n),i&&(this.data.registration=i),l&&(this.data.assertTypeId=l),o&&this.$nextTick(function(){t.data.assertTypeId&&(t.data.breatheType=o)})},getClassData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,s){var r,n,i,l,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.pageSize,n=a.currentPage,a.total,i={limit:r,offset:(n-1)*r,params:{assetClass:t}},l=null,e.prev=3,e.next=6,this.$axios.post("assets/getAssetClass",i);case 6:o=e.sent,c=o.data,l=c;case 9:return e.prev=9,s(l),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[3,,9,12]])}));function t(t,a,s){return e.apply(this,arguments)}return t}(),getBrandData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,a,s){var r,n,i,l,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.pageSize,n=a.currentPage,a.total,i={limit:r,offset:(n-1)*r,params:{keyword:t}},l=null,e.prev=3,e.next=6,this.$axios.post("assertBrandcopys/".concat(this.osId,"/list"),i);case 6:o=e.sent,c=o.data,l=c;case 9:return e.prev=9,s(l),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[3,,9,12]])}));function t(t,a,s){return e.apply(this,arguments)}return t}(),loadCountryType:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("loadCountryType",!0);case 2:this.country.list=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getCountryNode:function(e){e&&(2===e.state?(this.spanLong=12,this.data.breatheType=2):(this.spanLong=24,this.data.breatheType=1),this.data.mtType=e.type,null===e.type&&(this.data.lastTime=null,this.data.cycle=null))},loadDepartmentTree:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("loadDepartmentTree");case 2:t=e.sent,this.departmentTree=[t];case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),departmentChange:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,s,r,n,i,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,this.$axios.get("orgstruct/".concat(t.id,"/getOrgstructResponsible"));case 3:a=e.sent,s=a.data,r=s.userName,n=s.user,i=s.responsibleName,l=s.responsible,this.data.userName=r,this.data.responsibleName=i,this.data.userId=n,this.data.responsibleId=l;case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),rowClick:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a,s,r,n,i,l,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,this.$axios.get("assets/getAssetAcceptance/".concat(s));case 3:for(i in r=e.sent,n=r.data,n)this.data[i]=n[i],"assetTypeId"===i&&(this.data["assertTypeId"]=n[i]);l=this.assetBrand,o=l.valueKey,c=l.nodeKey,this.selectedItem=(a={},Object(d["a"])(a,o,n["brandName"]),Object(d["a"])(a,c,"11"),a),this.show=!1,this.$emit("rowClick",n);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},N=$,j=Object(b["a"])(N,y,I,!1,null,"57145c70",null),O=j.exports,C=a("a1fd"),R=a("8e65"),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"asset-info"},[a("kld-card",{attrs:{title:"添加标签"}},[a("div",{staticClass:"title",attrs:{slot:"head-icon"},slot:"head-icon"},[e._v("\n            单台资产最多添加5个标签\n        ")]),a("el-select",{attrs:{multiple:"",placeholder:"请选择标签","multiple-limit":5,disabled:e.disabled},model:{value:e.assetInfo.labelIds,callback:function(t){e.$set(e.assetInfo,"labelIds",t)},expression:"assetInfo.labelIds"}},e._l(e.assetLabel,function(e){return a("el-option",{key:e.id,attrs:{label:e.labelName,value:e.id}})}),1)],1),a("kld-card",{attrs:{title:"文件上传"}},[a("div",{staticClass:"title",attrs:{slot:"head-icon"},slot:"head-icon"},[e._v("\n            支持上传最多5张图片或单个图片最大3M\n        ")]),a("kld-upload",{attrs:{limit:5,maxSize:3145728,detail:e.disabled,accept:[".png",".jpg",".jpeg"]},model:{value:e.assetInfo.photos,callback:function(t){e.$set(e.assetInfo,"photos",t)},expression:"assetInfo.photos"}})],1)],1)},_=[],q=a("b9ce"),S={name:"asset-info",props:{data:{type:Object},disabled:{type:Boolean}},data:function(){return{assetLabel:[]}},components:(r={},Object(d["a"])(r,q["a"].name,q["a"]),Object(d["a"])(r,u["a"].name,u["a"]),r),computed:{assetInfo:{get:function(){return this.data},set:function(e){this.$emit("update:data",e)}}},created:function(){this.getLabel()},methods:{getLabel:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post("labels/list/1");case 2:t=e.sent,a=t.data,this.assetLabel=a;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},L=S,K=Object(b["a"])(L,B,_,!1,null,"12ba3825",null),E=K.exports,A=a("5a0c"),M=a.n(A),P=a("ed08"),W=a("3f06"),z=function(){return a.e("chunk-c0480d9a").then(a.bind(null,"9834"))},Q={name:"addAcceptance",data:function(){var e=this;return{detail:!1,measureShow:!1,quickID:null,loading:!1,detailData:{hosId:this.$store.state.userInfo.osId,assetName:"",assetClass:"",assetSN:"",registration:"",assetBrandId:"",brandName:"",assertTypeId:"",breatheType:1,collarTime:"",departmentId:"",installSection:"",userId:"",userName:"",responsibleId:"",responsibleName:"",contractId:"",contractName:"",purchaseMount:"0",assetWarrntyDate:"",depreciationType:0,depreciationAgeLimit:5,speedDepreciationRate:"",mtType:null,lastTime:null,cycle:null,id:void 0,labelIds:[],photos:[]},formRule:{assetName:[{required:!0,message:"资产名称为必填项",trigger:""},{pattern:/^[\u4e00-\u9fa5\w\!@#$%^&?*()_\.-]*$/,message:"请勿使用中文标点符号！",trigger:"blur"},{max:100,message:"最多100个字符！"}],assetSN:[{required:!0,message:"序列号为必填项",trigger:""}],assetBrandId:{required:!0,message:"品牌为必选项"},assertTypeId:{required:!0,message:"国家分类为必选项"},departmentId:{required:!0,message:"安装科室为必选项"},collarTime:{required:!0,validator:function(t,a,s){a?e.detailData.assetWarrntyDate?M()(a).isBefore(M()(e.detailData.assetWarrntyDate))?s():s(new Error("安装时间需要小于过保时间")):s():s(new Error("该项为必填项"))}},userId:{required:!0,message:"使用人为必选项"},responsibleId:{required:!0,message:"责任人为必选项"},assetWarrntyDate:{required:!0,validator:function(t,a,s){a?e.detailData.collarTime?M()(e.detailData.collarTime).isBefore(M()(a))?s():s(new Error("过保时间需要大于安装时间")):s():s(new Error("该项为必填项"))}},purchaseMount:[{trigger:"",required:!0,validator:function(e,t,a){""!==t?/^[0-9]+$/.test(t)?a():a(new Error("该项只能输入数字")):a(new Error("该项为必填字段"))}}],cycle:[{required:!0},{trigger:"",validator:function(e,t,a){""!==t&&null!==t?/^\+?[1-9]\d*$/.test(t)?a():a(new Error("该项只能输入大于0的整数")):a()}},{validator:function(t,a,s){0===e.detailData.mtType&&(null===a||""===a)?s(new Error("该项为必填项！")):s()}}],speedDepreciationRate:[{trigger:"",validator:function(e,t,a){""!==t?/^[0-9]+$/.test(t)?a():a(new Error("该项只能输入数字")):a()}}],lastTime:[{required:!0,validator:function(t,a,s){0===e.detailData.mtType?a?s():s(new Error("该项为必填项！")):s()}}]}}},watch:{"detailData.mtType":function(e){this.measureShow=null!==e},"detailData.collarTime":function(e){this.detailData.assetWarrntyDate||(this.detailData.assetWarrntyDate=M()(e).add(1,"year").format("YYYY-MM-DD"))}},computed:{},components:(n={},Object(d["a"])(n,u["a"].name,u["a"]),Object(d["a"])(n,g.name,g),Object(d["a"])(n,O.name,O),Object(d["a"])(n,C["a"].name,C["a"]),Object(d["a"])(n,R["a"].name,R["a"]),Object(d["a"])(n,E.name,E),Object(d["a"])(n,"mesurementInfo",z),n),mounted:function(){var e=this;this.$refs["basic-info"].$on("rowClick",function(t){var a=t.labels,s=t.assetId;setTimeout(function(){e.$refs["form"].clearValidate()}),e.detail=!0;var r=e.detailData.photos.map(function(e){return e.photoUrl});e.detailData.labelIds=a.map(function(e){return e.labelId}),r&&Object(P["e"])(r).then(function(t){e.detailData.photos=t}),e.quickID=s})},methods:{next:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.detail?Object(W["b"])({title:"提示",content:"确认提交？",okText:"确定",cancelText:"取消",ok:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.quickSave();case 2:return t&&t(),e.abrupt("return");case 4:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}()}):this.$refs["form"].validate(function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:Object(W["b"])({title:"提示",content:"确认提交？",okText:"确定",cancelText:"取消",ok:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.save();case 2:t&&t();case 3:case"end":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}()});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),quickSave:function(){var e=this;return this.$axios.post("assetacceptance/save?type=2",{id:this.quickID}).then(function(t){var a=t.data;console.log(e.$refs["basic-info"].$refs["osTree"].currentLabel),e.$emit("getInfo",a,e.$refs["basic-info"].$refs["osTree"].currentLabel,e.detailData.collarTime)}).finally(function(t){e.loading=!1})},save:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,a,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.correction(this.detailData),e.next=3,Object(P["d"])(t.photos,7);case 3:return a=e.sent,e.abrupt("return",this.$axios.post("/assetacceptance/save?type=1",Object(o["a"])({},t,{photos:a})).then(function(e){var t=e.data;s.$emit("getInfo",t,s.$refs["basic-info"].$refs["osTree"].currentLabel,s.detailData.collarTime)}).finally(function(e){s.loading=!1}));case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),correction:function(e){for(var t in e)switch(t){case"cycle":e[t]=this.itemQuery(e,t);break;case"lastTime":e[t]=this.itemQuery(e,t);break;case"mtType":e[t]=this.itemQuery(e,t);break}return e},itemQuery:function(e,t){return this.isMeasure&&""!==query[t]?query[query]:null}}},Y=Q,F=Object(b["a"])(Y,i,l,!1,null,"479a5bee",null),J=F.exports;a.d(t,"default",function(){return J})}}]);
//# sourceMappingURL=chunk-2d216043.46c582e9.js.map